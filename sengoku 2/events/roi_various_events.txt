###########################################
#                                         #
# RoI India various events                #
#                                         #
###########################################

# Written by Tobias Bodlund & Henrik Fåhraeus

namespace = RoI

# Choose patron deity 1
character_event = {
	id = RoI.100
	desc = EVTDESC_RoI_100
	picture = GFX_evt_bishop
	border = GFX_event_normal_frame_religion

	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RoI_100
		add_character_modifier = {
			name = patron_shiva
			duration = -1
		}
	}
	option = {
		name = EVTOPTB_RoI_100
		add_character_modifier = {
			name = patron_vishnu
			duration = -1
		}
	}
	option = {
		name = EVTOPTC_RoI_100
		add_character_modifier = {
			name = patron_brahma
			duration = -1
		}
	}
	option = {
		name = EVTOPTD_RoI_100
		hidden_tooltip = { character_event = { id = RoI.101 } }
	}
}

# Choose patron deity 2
character_event = {
	id = RoI.101
	desc = EVTDESC_RoI_101
	picture = GFX_evt_bishop
	border = GFX_event_normal_frame_religion

	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RoI_101
		add_character_modifier = {
			name = patron_kali
			duration = -1
		}
	}
	option = {
		name = EVTOPTB_RoI_101
		add_character_modifier = {
			name = patron_ganesha
			duration = -1
		}
	}
	option = {
		name = EVTOPTC_RoI_101
		add_character_modifier = {
			name = patron_ganga
			duration = -1
		}
	}
	option = {
		name = EVTOPTD_RoI_101
		hidden_tooltip = { character_event = { id = RoI.100 } }
	}
}

# Converted to Hinduism - choose branch
character_event = {
	id = RoI.110
	desc = EVTDESC_RoI_110
	picture = GFX_evt_bishop
	border = GFX_event_normal_frame_religion

	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RoI_110
		add_trait = shaivist_hindu
	}

	option = {
		name = EVTOPTB_RoI_110
		add_trait = vaishnavist_hindu
	}

	option = {
		name = EVTOPTC_RoI_110
		add_trait = shaktist_hindu
	}

	option = {
		name = EVTOPTD_RoI_110
		add_trait = smartist_hindu
	}
}

# Converted to Buddhism - choose branch
character_event = {
	id = RoI.111
	desc = EVTDESC_RoI_111
	picture = GFX_evt_bishop
	border = GFX_event_normal_frame_religion

	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RoI_111
		add_trait = mahayana_buddhist
	}

	option = {
		name = EVTOPTB_RoI_111
		add_trait = vajrayana_buddhist
	}

	option = {
		name = EVTOPTC_RoI_111
		add_trait = theravada_buddhist
	}
}

# Converted to Jainism - choose branch
character_event = {
	id = RoI.112
	desc = EVTDESC_RoI_112
	picture = GFX_evt_bishop
	border = GFX_event_normal_frame_religion

	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RoI_112
		add_trait = digambara_jain
	}

	option = {
		name = EVTOPTB_RoI_112
		add_trait = svetambara_jain
	}
}

# Converted within Hinduism - choose branch
character_event = {
	id = RoI.115
	desc = EVTDESC_RoI_115
	picture = GFX_evt_bishop
	border = GFX_event_normal_frame_religion

	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RoI_110
		trigger = {
			NOT = { trait = shaivist_hindu }
		}
		add_trait = shaivist_hindu
	}

	option = {
		name = EVTOPTB_RoI_110
		trigger = {
			NOT = { trait = vaishnavist_hindu }
		}
		add_trait = vaishnavist_hindu
	}

	option = {
		name = EVTOPTC_RoI_110
		trigger = {
			NOT = { trait = shaktist_hindu }
		}
		add_trait = shaktist_hindu
	}

	option = {
		name = EVTOPTD_RoI_110
		trigger = {
			NOT = { trait = smartist_hindu }
		}
		add_trait = smartist_hindu
	}
}

# Converted within Buddhism - choose branch
character_event = {
	id = RoI.116
	desc = EVTDESC_RoI_116
	picture = GFX_evt_bishop
	border = GFX_event_normal_frame_religion

	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RoI_111
		trigger = {
			NOT = { trait = mahayana_buddhist }
		}
		add_trait = mahayana_buddhist
	}

	option = {
		name = EVTOPTB_RoI_111
		trigger = {
			NOT = { trait = vajrayana_buddhist }
		}
		add_trait = vajrayana_buddhist
	}

	option = {
		name = EVTOPTC_RoI_111
		trigger = {
			NOT = { trait = theravada_buddhist }
		}
		add_trait = theravada_buddhist
	}
}

# Converted within Jainism - choose branch
character_event = {
	id = RoI.117
	desc = EVTDESC_RoI_117
	picture = GFX_evt_bishop
	border = GFX_event_normal_frame_religion

	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RoI_117
		trigger = {
			NOT = { trait = digambara_jain }
		}
		add_trait = digambara_jain
	}

	option = {
		name = EVTOPTB_RoI_117
		trigger = {
			NOT = { trait = svetambara_jain }
		}
		add_trait = svetambara_jain
	}
}

# After diplomacy action conversion
character_event = {
	id = RoI.120

	hide_window = yes
	
	is_triggered_only = yes
	
	immediate = {
		if = {
			limit = {
				FROMFROMFROM = { trait = shaivist_hindu }
			}
			add_trait = shaivist_hindu
		}
		if = {
			limit = {
				FROMFROMFROM = { trait = vaishnavist_hindu }
			}
			add_trait = vaishnavist_hindu
		}
		if = {
			limit = {
				FROMFROMFROM = { trait = shaktist_hindu }
			}
			add_trait = shaktist_hindu
		}
		if = {
			limit = {
				FROMFROMFROM = { trait = smartist_hindu }
			}
			add_trait = smartist_hindu
		}
		if = {
			limit = {
				FROMFROMFROM = { trait = mahayana_buddhist }
			}
			add_trait = mahayana_buddhist
		}
		if = {
			limit = {
				FROMFROMFROM = { trait = vajrayana_buddhist }
			}
			add_trait = vajrayana_buddhist
		}
		if = {
			limit = {
				FROMFROMFROM = { trait = theravada_buddhist }
			}
			add_trait = theravada_buddhist
		}
		if = {
			limit = {
				FROMFROMFROM = { trait = digambara_jain }
			}
			add_trait = digambara_jain
		}
		if = {
			limit = {
				FROMFROMFROM = { trait = svetambara_jain }
			}
			add_trait = svetambara_jain
		}
	}
}

# After conversion, set religious branch randomly
character_event = {
	id = RoI.30120

	hide_window = yes
	
	is_triggered_only = yes
	
	immediate = {
		if = {
			limit = { religion = hindu }
			random_list = {
				10 = { add_trait = shaivist_hindu }
				10 = { add_trait = vaishnavist_hindu }
				10 = { add_trait = shaktist_hindu }
				10 = { add_trait = smartist_hindu }
			}
		}
		if = {
			limit = { religion = buddhist }
			random_list = {
				10 = { add_trait = mahayana_buddhist }
				10 = { add_trait = vajrayana_buddhist }
				10 = { add_trait = theravada_buddhist }
			}
		}
		if = {
			limit = { religion = buddhist }
			random_list = {
				10 = { add_trait = digambara_jain }
				10 = { add_trait = svetambara_jain }
			}
		}
	}
}

# After conversion, set religious branch to liege's branch
character_event = {
	id = RoI.30121

	hide_window = yes
	
	is_triggered_only = yes
	
	immediate = {
		if = {
			limit = {
				liege = { trait = shaivist_hindu }
			}
			add_trait = shaivist_hindu
		}
		if = {
			limit = {
				liege = { trait = vaishnavist_hindu }
			}
			add_trait = vaishnavist_hindu
		}
		if = {
			limit = {
				liege = { trait = shaktist_hindu }
			}
			add_trait = shaktist_hindu
		}
		if = {
			limit = {
				liege = { trait = smartist_hindu }
			}
			add_trait = smartist_hindu
		}
		if = {
			limit = {
				liege = { trait = mahayana_buddhist }
			}
			add_trait = mahayana_buddhist
		}
		if = {
			limit = {
				liege = { trait = vajrayana_buddhist }
			}
			add_trait = vajrayana_buddhist
		}
		if = {
			limit = {
				liege = { trait = theravada_buddhist }
			}
			add_trait = theravada_buddhist
		}
		if = {
			limit = {
				liege = { trait = digambara_jain }
			}
			add_trait = digambara_jain
		}
		if = {
			limit = {
				liege = { trait = svetambara_jain }
			}
			add_trait = svetambara_jain
		}
	}
}

# After conversion, set religious branch to FROM's branch
character_event = {
	id = RoI.30122

	hide_window = yes
	
	is_triggered_only = yes
	
	immediate = {
		if = {
			limit = {
				FROM = { trait = shaivist_hindu }
			}
			add_trait = shaivist_hindu
		}
		if = {
			limit = {
				FROM = { trait = vaishnavist_hindu }
			}
			add_trait = vaishnavist_hindu
		}
		if = {
			limit = {
				FROM = { trait = shaktist_hindu }
			}
			add_trait = shaktist_hindu
		}
		if = {
			limit = {
				FROM = { trait = smartist_hindu }
			}
			add_trait = smartist_hindu
		}
		if = {
			limit = {
				FROM = { trait = mahayana_buddhist }
			}
			add_trait = mahayana_buddhist
		}
		if = {
			limit = {
				FROM = { trait = vajrayana_buddhist }
			}
			add_trait = vajrayana_buddhist
		}
		if = {
			limit = {
				FROM = { trait = theravada_buddhist }
			}
			add_trait = theravada_buddhist
		}
		if = {
			limit = {
				FROM = { trait = digambara_jain }
			}
			add_trait = digambara_jain
		}
		if = {
			limit = {
				FROM = { trait = svetambara_jain }
			}
			add_trait = svetambara_jain
		}
	}
}

###########################################
# Reincarnation Events
###########################################
# by Henrik Fåhraeus
###########################################

# [on_birth] Child might be a reincarnation
character_event = {
	id = RoI.10000
	hide_window = yes
	
	is_triggered_only = yes
	
	only_men = yes
	
	trigger = {
		has_dlc = "Rajas of India"
		religion_group = indian_group
		OR = {
			father = {
				ai = no
				is_reincarnated = no
				father_even_if_dead = {
					OR = {
						is_alive = no
						father_even_if_dead = {
							is_alive = no
						}
					}
				}
				NOT = {
					any_sibling = {
						is_reincarnated = yes
					}
				}
			}
			mother = {
				ai = no
				is_reincarnated = no
				father_even_if_dead = {
					OR = {
						is_alive = no
						father_even_if_dead = {
							is_alive = no
						}
					}
				}
				NOT = {
					any_sibling = {
						is_reincarnated = yes
					}
				}
			}
		}
		NOT = {
			any_sibling = {
				is_reincarnated = yes
			}
		}
	}
	
	option = {
		name = OK
		if = {
			limit = {
				father = { 
					ai = no
				}
			}
			if = {
				limit = {
					father = {
						father_even_if_dead = {
							father_even_if_dead = {
								is_alive = no
							}
						}
					}
				}
				father = {
					father_even_if_dead = {
						father_even_if_dead = {
							ROOT = {
								set_reincarnation = THIS
							}
						}
					}
				}
			}
			if = {
				limit = {
					is_reincarnated = no
				}
				father = {
					father_even_if_dead = {
						ROOT = {
							set_reincarnation = THIS
						}
					}
				}
			}
			
			father = {
				character_event = {
					id = RoI.10001
					days = 3
				}
			}
		}
		if = {
			limit = {
				mother = { ai = no }
				is_reincarnated = no
			}
			if = {
				limit = {
					mother = {
						father_even_if_dead = {
							father_even_if_dead = {
								is_alive = no
							}
						}
					}
				}
				mother = {
					father_even_if_dead = {
						father_even_if_dead = {
							ROOT = {
								set_reincarnation = THIS
							}
						}
					}
				}
			}
			if = {
				limit = {
					is_reincarnated = no
				}
				mother = {
					father_even_if_dead = {
						ROOT = {
							set_reincarnation = THIS
						}
					}
				}
			}
			
			mother = {
				character_event = {
					id = RoI.10001
					days = 3
				}
			}
		}
	}
}

# Reincarnation: Player notices the similarities
character_event = {
	id = RoI.10001
	desc = EVTDESC_RoI_10001
	picture = GFX_evt_reincarnation
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RoI_10001 # Yes, clearly
		
		hidden_tooltip = {
			FROM = {
				add_trait = reincarnation
				character_event = {
					id = RoI.10002
					days = 912
				}
			}
		}
	}
	
	option = {
		name = EVTOPTB_RoI_10001 # Nonsense!
		
		hidden_tooltip = {
			FROM = {
				set_reincarnation = 0
			}
		}
	}
}

# Reincarnation: Toddler thinks of the past life
character_event = {
	id = RoI.10002
	desc = EVTDESC_RoI_10002
	picture = GFX_evt_reincarnation
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RoI_10002
		hidden_tooltip = {
			FROM = {
				character_event = {
					id = RoI.10003
					days = 2
				}
			}
		}
	}
}

# Reincarnation: Toddler speaks of the past life
character_event = {
	id = RoI.10003
	desc = EVTDESC_RoI_10003
	picture = GFX_evt_reincarnation
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RoI_10003
		hidden_tooltip = {
			FROM = {
				set_character_flag = reincarnation_education
			}
		}
	}
	option = {
		name = EVTOPTB_RoI_10003
	}
}

# [on_yearly_childhood_pulse] Reincarnation: Youth picks up a personality trait from the previous life
character_event = {
	id = RoI.10010
	desc = EVTDESC_RoI_10010
	picture = GFX_evt_reincarnation
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	trigger = {
		religion_group = indian_group
		has_dlc = "Rajas of India"
		has_character_flag = reincarnation_education
		NOT = { personality_traits = 5 }
		reincarnation_scope = {
			ROOT = {
				can_copy_personality_trait_from = PREV
			}
		}
	}
	
	option = {
		name = EVTOPTA_RoI_10010
		reincarnation_scope = {
			ROOT = {
				copy_random_personality_trait = PREV
			}
		}
		hidden_tooltip = {
			if = {
				limit = {
					father = {
						ai = no
					}
				}
				father = {
					character_event = {
						id = RoI.10011
						days = 2
					}
				}
			}
			if = {
				limit = {
					mother = {
						ai = no
					}
				}
				mother = {
					character_event = {
						id = RoI.10011
						days = 2
					}
				}
			}
			if = {
				limit = {
					guardian = {
						ai = no
					}
				}
				guardian = {
					character_event = {
						id = RoI.10011
						days = 2
					}
				}
			}
		}
	}
}

# Reincarnation: Notification of a youth picking up a personality trait from the previous life
character_event = {
	id = RoI.10011
	desc = EVTDESC_RoI_10011
	picture = GFX_evt_reincarnation
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RoI_10011
	}
}

# [on_yearly_pulse] Reincarnation: Reincarnated player remembers his murderer
character_event = {
	id = RoI.10020
	desc = EVTDESC_RoI_10020
	picture = GFX_evt_shadow
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	ai = no
	min_age = 14
	
	trigger = {
		is_reincarnated = yes
		trait = reincarnation
		has_dlc = "Rajas of India"
		reincarnation_scope = {
			OR = {
				death_reason = death_murder
				death_reason = death_murder_unknown
				death_reason = death_execution
			}
			killer = {
				always = yes
			}
		}
		NOT = { has_character_flag = reinc_remembered_killer }
	}
	
	option = {
		name = EVTOPTA_RoI_10020
		
		set_character_flag = reinc_remembered_killer
		
		if = {
			limit = {
				reincarnation_scope = {
					killer = {
						is_alive = yes
					}
				}
			}
			reincarnation_scope = {
				killer = {
					reverse_opinion = {
						who = ROOT
						years = 100
						modifier = opinion_dishonorable
					}
				}
			}
		}
	}
}

# [on_yearly_pulse] Reincarnation: Reincarnated player remembers spouse
character_event = {
	id = RoI.10021
	desc = EVTDESC_RoI_10021
	picture = GFX_evt_lovers
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	ai = no
	min_age = 14
	
	trigger = {
		is_reincarnated = yes
		trait = reincarnation
		has_dlc = "Rajas of India"
		reincarnation_scope = {
			spouse_even_if_dead = {
				always = yes
			} 
		}
		NOT = { has_character_flag = reinc_remembered_spouse }
	}
	
	option = {
		name = EVTOPTA_RoI_10021
		
		set_character_flag = reinc_remembered_spouse
	}
}

# [on_yearly_pulse] Reincarnation: Reincarnated player remembers birth of oldest child
character_event = {
	id = RoI.10022
	desc = EVTDESC_RoI_10022
	picture = GFX_evt_child_play
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	ai = no
	min_age = 14
	
	trigger = {
		is_reincarnated = yes
		trait = reincarnation
		has_dlc = "Rajas of India"
		reincarnation_scope = {
			num_of_children = 1
		}
		NOT = { has_character_flag = reinc_remembered_oldest_child }
	}
	
	option = {
		name = EVTOPTA_RoI_10022
		
		set_character_flag = reinc_remembered_oldest_child
	}
}

###########################################
# Ascetics                                #
###########################################

# Hindu ascetic comes to visit
character_event = {
	id = RoI.203
	desc = EVTDESC_RoI_203
	picture = GFX_evt_throne_room
	border = GFX_event_normal_frame_religion

	is_triggered_only = yes
	
	ai = no
	only_capable = yes
	prisoner = no
	
	trigger = {
		has_dlc = "Rajas of India"
		OR = {
			religion = buddhist
			religion = jain
			religion_group = taoic_group
		}
	}
	
	option = {
		name = EVTOPTA_RoI_203
		trigger = { NOT = { trait = zealous } }
		hidden_tooltip = { character_event = { id = RoI.204 } }
	}
	option = {
		name = EVTOPTB_RoI_203
	}
	option = {
		name = EVTOPTC_RoI_203
		prestige = 20
		custom_tooltip = { text = realm_hindus_insulted }
		hidden_tooltip = {
			any_realm_character  = {
				limit = { religion = hindu }
				opinion = {
					who = ROOT
					years = 2
					modifier = insulted
				}
			}
		}
	}
}

# Tell me more, Hindu ascetic
character_event = {
	id = RoI.204
	desc = EVTDESC_RoI_204
	picture = GFX_evt_bishop_hindu
	border = GFX_event_normal_frame_religion

	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RoI_204
		religion = hindu
		add_trait = shaivist_hindu
		set_character_flag = india_converted
		add_character_modifier = {
			name = hindu_ascetic
			duration = -1
		}
	}
	option = {
		name = EVTOPTB_RoI_204
		religion = hindu
		add_trait = shaivist_hindu
		set_character_flag = india_converted
	}
	option = {
		name = EVTOPTC_RoI_204
	}
}

# Buddhist ascetic comes to visit
character_event = {
	id = RoI.206
	desc = EVTDESC_RoI_206
	picture = GFX_evt_throne_room
	border = GFX_event_normal_frame_religion

	is_triggered_only = yes
	
	ai = no
	only_capable = yes
	prisoner = no
	
	trigger = {
		has_dlc = "Rajas of India"
		OR = {
			religion = hindu
			religion = jain
		}
	}
	
	option = {
		name = EVTOPTA_RoI_203
		trigger = { NOT = { trait = zealous } }
		hidden_tooltip = { character_event = { id = RoI.207 } }
	}
	option = {
		name = EVTOPTB_RoI_203
	}
	option = {
		name = EVTOPTC_RoI_206
		prestige = 20
		custom_tooltip = { text = realm_buddhists_insulted }
		hidden_tooltip = {
			any_realm_character  = {
				limit = { 
					OR = {
						religion = buddhist 
						religion_group = taoic_group
					}
				}
				opinion = {
					who = ROOT
					years = 2
					modifier = insulted
				}
			}
		}
	}
}

# Tell me more, Buddhist ascetic
character_event = {
	id = RoI.207
	desc = EVTDESC_RoI_204
	picture = GFX_evt_bishop_buddhist
	border = GFX_event_normal_frame_religion

	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RoI_207
		religion = buddhist
		add_trait = mahayana_buddhist
		set_character_flag = india_converted
		add_character_modifier = {
			name = buddhist_ascetic
			duration = -1
		}
	}
	option = {
		name = EVTOPTB_RoI_207
		religion = buddhist
		add_trait = mahayana_buddhist
		set_character_flag = india_converted
	}
	option = {
		name = EVTOPTC_RoI_207
	}
}

# Jain ascetic comes to visit
character_event = {
	id = RoI.209
	desc = EVTDESC_RoI_209
	picture = GFX_evt_throne_room
	border = GFX_event_normal_frame_religion

	is_triggered_only = yes
	
	ai = no
	only_capable = yes
	prisoner = no
	
	trigger = {
		has_dlc = "Rajas of India"
		OR = {
			religion = hindu
			religion = buddhist
			religion_group = taoic_group
		}
	}
	
	option = {
		name = EVTOPTA_RoI_203
		trigger = { NOT = { trait = zealous } }
		hidden_tooltip = { character_event = { id = RoI.210 } }
	}
	option = {
		name = EVTOPTB_RoI_209
	}
	option = {
		name = EVTOPTC_RoI_209
		prestige = 20
		custom_tooltip = { text = realm_jains_insulted }
		hidden_tooltip = {
			any_realm_character  = {
				limit = { religion = jain }
				opinion = {
					who = ROOT
					years = 2
					modifier = insulted
				}
			}
		}
	}
}

# Tell me more, Jain ascetic
character_event = {
	id = RoI.210
	desc = EVTDESC_RoI_210
	picture = GFX_evt_bishop_jain
	border = GFX_event_normal_frame_religion

	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RoI_210
		religion = jain
		add_trait = digambara_jain
		set_character_flag = india_converted
		add_character_modifier = {
			name = jain_naked_ascetic
			duration = -1
		}
	}
	option = {
		name = EVTOPTB_RoI_210
		religion = jain
		add_trait = digambara_jain
		set_character_flag = india_converted
	}
	option = {
		name = EVTOPTC_RoI_210
	}
}

###########################################
# The cursed diamond                      #
###########################################

# Diamond is found
#id = RoI.215

###########################################
# Thugs                                   #
###########################################

character_event = {
	id = RoI.20147

	hide_window = yes

	is_triggered_only = yes
	
	ai = no
	only_capable = yes
	prisoner = no
	
	trigger = {
		#has_dlc = "Rajas of India"
		NOT = { has_global_flag = thugs_global }
		capital_scope = {
			#OR = {
			#	empire = { title = e_rajastan }
			#	empire = { title = e_bengal }
			#	empire = { title = e_deccan }
			#}
			empire = { title = e_japan }
		}
	}

	immediate = {
		set_global_flag = thugs_global
		random_demesne_province = {
			limit = {
				# OR = {
					# empire = { title = e_rajastan }
					# empire = { title = e_bengal }
					# empire = { title = e_deccan }
				# }
				empire = { title = e_japan }
			}
			set_province_flag = thugs
			province_event = { id = RoI.20148 }
		}
	}
}

province_event = {
	id = RoI.20148

	hide_window = yes

	is_triggered_only = yes
	
	immediate = {
		FROM = { character_event = { id = RoI.147 } }
	}
}

# Thug problem appears
character_event = {
	id = RoI.147
	desc = EVTDESC_RoI_147
	picture = GFX_evt_india_rural_scene

	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RoI_147
		hidden_tooltip = { character_event = { id = RoI.148 days = 60 } }
	}
	option = {
		name = EVTOPTB_RoI_147
		random_demesne_province = {
			limit = {
				has_province_flag = thugs
			}
			add_province_modifier = {
				name = thugs_rampant
				duration = 3650
			}
		}
	}
}

# Agents disappear
character_event = {
	id = RoI.148
	desc = EVTDESC_RoI_148
	picture = GFX_evt_india_rural_scene

	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RoI_148
		hidden_tooltip = { character_event = { id = RoI.155 days = 60 } }
	}
	option = {
		name = EVTOPTB_RoI_148
		hidden_tooltip = { character_event = { id = RoI.149 days = 120 } }
		if = {
			limit = { NOT = { trait = cruel } }
			add_trait = cruel
		}
	}
	option = {
		name = EVTOPTC_RoI_148
		random_demesne_province = {
			limit = {
				has_province_flag = thugs
			}
			add_province_modifier = {
				name = thugs_rampant
				duration = 3650
			}
		}
	}
}

# Terror in the countryside but the peasants are not to blame
character_event = {
	id = RoI.149
	desc = EVTDESC_RoI_149
	picture = GFX_evt_india_rural_scene

	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RoI_149
		hidden_tooltip = { character_event = { id = RoI.150 days = 60 } }
		scaled_wealth = -0.1
	}
	option = {
		name = EVTOPTB_RoI_149
		random_demesne_province = {
			limit = {
				has_province_flag = thugs
			}
			add_province_modifier = {
				name = thugs_rampant
				duration = 3650
			}
		}
	}
}

# Send out armed parties?
character_event = {
	id = RoI.150
	desc = EVTDESC_RoI_150
	picture = GFX_evt_india_rural_scene

	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RoI_150
		scaled_wealth = -0.2
		hidden_tooltip = { character_event = { id = RoI.155 days = 60 } }
	}
	option = {
		name = EVTOPTB_RoI_150
		scaled_wealth = -0.1
		hidden_tooltip = { character_event = { id = RoI.151 days = 60 } }
	}
}

# Thug assassin arrives
character_event = {
	id = RoI.151
	desc = EVTDESC_RoI_151
	picture = GFX_evt_emissary

	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RoI_151
		if = {
			limit = {
				any_courtier = {
					ai = yes
					at_location = ROOT
					opinion = { who = ROOT value = 25 }
					NOT = { trait = craven }
				}
			}
			random_courtier = {
				limit = {
					ai = yes
					at_location = ROOT
					opinion = { who = ROOT value = 25 }
					NOT = { trait = craven }
				}
				hidden_tooltip = { character_event = { id = RoI.20152 } }
			}
		}
		if = {
			limit = {
				NOT = {
					any_courtier = {
						ai = yes
						at_location = ROOT
						opinion = { who = ROOT value = 0 }
						NOT = { trait = craven }
					}
				}
			}
			random_courtier = {
				limit = {
					ai = yes
					at_location = ROOT
				}
				hidden_tooltip = { character_event = { id = RoI.20152 } }
			}
		}
	}
}

# Courtier that will save us from thug assassin
character_event = {
	id = RoI.20152

	hide_window = yes
	
	is_triggered_only = yes
	
	immediate = {
		FROM = { narrative_event = { id = RoI.152 } }
	}
}

# Thug assassin strikes
narrative_event = {
	id = RoI.152
	title = EVTNAME_RoI_152
	desc = EVTDESC_RoI_152
	picture = GFX_evt_emissary

	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RoI_152
		FROM = {
			death = {
				death_reason = death_murder
			}
		}
		hidden_tooltip = { character_event = { id = RoI.153 } }
	}
}

# Hold council after assassination attempt - what to do?
character_event = {
	id = RoI.153
	desc = EVTDESC_RoI_153
	picture = GFX_evt_council

	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RoI_153
		hidden_tooltip = { character_event = { id = RoI.155 } }
	}
	option = {
		name = EVTOPTB_RoI_153
		prestige = -100
		if = {
			limit = { NOT = { trait = craven } }
			add_trait = craven
		}
		random_demesne_province = {
			limit = {
				has_province_flag = thugs
			}
			add_province_modifier = {
				name = thugs_rampant
				duration = 3650
			}
		}
	}
}

# Riders haven't found thugs - what to do?
character_event = {
	id = RoI.155
	desc = EVTDESC_RoI_155
	picture = GFX_evt_india_rural_scene

	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RoI_155
		scaled_wealth = -0.4
		hidden_tooltip = {
			random_demesne_province = {
				limit = {
					has_province_flag = thugs
				}
				province_event = { id = RoI.20156 }
			}
		}
	}
	option = {
		name = EVTOPTB_RoI_155
		random_demesne_province = {
			limit = {
				has_province_flag = thugs
			}
			add_province_modifier = {
				name = thugs_rampant
				duration = 3650
			}
		}
	}
}

province_event = {
	id = RoI.20156

	hide_window = yes

	is_triggered_only = yes
	
	immediate = {
		FROM = {
			character_event = { id = RoI.156 }
		}
	}
}

# Thugs have left, not our problem anymore
character_event = {
	id = RoI.156
	desc = EVTDESC_RoI_156
	picture = GFX_evt_india_rural_scene

	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_RoI_156
	}
}

###########################################
# Elephants                               #
###########################################

# Peasants need elephants for clearing forest
#RoI.157

###########################################
# The White Elephant                      #
###########################################

# Determine who gives player the white elephant
#RoI.20164

###########################################
# Levitating yogi                         #
###########################################

# Hears of levitating yogi
#id = RoI.193

###########################################
# Marco Polo                              #
###########################################

# The Polos arrive
#RoI.500

###########################################
# Minor events                            #
###########################################

# Greek troops not wanting to cross the Indus
#id = RoI.146

# Kung fu monks
character_event = {
	id = RoI.180
	desc = EVTDESC_RoI_180
	picture = GFX_evt_meditating_in_temple

	is_triggered_only = yes
	
	ai = no
	
	trigger = {
		capital_scope = {
			empire = { title = e_japan }
		}
	}

	option = {
		name = EVTOPTA_RoI_180
		random = {
			chance = 30
			change_martial = 1
		}
	}
	option = {
		name = EVTOPTB_RoI_180
		trigger = {
			NOT = {
				trait = paranoid
				trait = wroth
			}
		}
		if = {
			limit = { trait = paranoid }
			random = {
				chance = 50
				add_trait = wroth
			}
		}
		if = {
			limit = { NOT = { trait = paranoid } }
			random = {
				chance = 50
				add_trait = paranoid
			}
		}
	}
}

# U-boat up the Indus
#id = RoI.190

# Tolerant character making Indian friend
character_event = {
	id = RoI.400
	desc = EVTDESC_RoI_400
	picture = GFX_evt_courtiers_talking
	border = GFX_event_normal_frame_religion

	is_triggered_only = yes
	
	only_rulers = yes
	only_capable = yes
	prisoner = no
	min_age = 16
	
	trigger = {
		has_dlc = "Rajas of India"
		trait = sympathy_indian
		any_realm_character = {
			religion_group = indian_group
			NOT = { is_friend = ROOT }
		}
	}
	
	option = {
		name = EVTOPTA_SoA_400
		random_realm_character = {
			limit = {
				religion_group = indian_group
			}
			add_friend = ROOT
		}
	}
}

# Visit Nalanda University?
#id = RoI.401

# Visit the Ganges?
#id = RoI.403

# Local Hindu temple asks for donations
character_event = {
	id = RoI.410
	desc = EVTDESC_RoI_410
	picture = GFX_evt_india_temple
	border = GFX_event_normal_frame_religion

	is_triggered_only = yes
	
	ai = no
	only_capable = yes
	prisoner = no
	
	trigger = {
		has_dlc = "Rajas of India"
		in_command = no
		religion = hindu
	}

	option = {
		name = EVTOPTG_RoI_410
		scaled_wealth = -0.1
		piety = 5
	}
	option = {
		name = EVTOPTA_RoI_410
		trigger = {
			has_character_modifier = patron_shiva
		}
		scaled_wealth = -0.3
		piety = 30
		add_character_modifier = {
			name = religious_appreciate
			duration = 1460
		}
	}
	option = {
		name = EVTOPTB_RoI_410
		trigger = {
			has_character_modifier = patron_vishnu
		}
		scaled_wealth = -0.3
		piety = 30
		add_character_modifier = {
			name = religious_appreciate
			duration = 1460
		}
	}
	option = {
		name = EVTOPTC_RoI_410
		trigger = {
			has_character_modifier = patron_brahma
		}
		scaled_wealth = -0.3
		piety = 30
		add_character_modifier = {
			name = religious_appreciate
			duration = 1460
		}
	}
	option = {
		name = EVTOPTD_RoI_410
		trigger = {
			has_character_modifier = patron_kali
		}
		scaled_wealth = -0.3
		piety = 30
		add_character_modifier = {
			name = religious_appreciate
			duration = 1460
		}
	}
	option = {
		name = EVTOPTE_RoI_410
		trigger = {
			has_character_modifier = patron_ganesha
		}
		scaled_wealth = -0.3
		piety = 30
		add_character_modifier = {
			name = religious_appreciate
			duration = 1460
		}
	}
	option = {
		name = EVTOPTF_RoI_410
		trigger = {
			has_character_modifier = patron_ganga
		}
		scaled_wealth = -0.3
		piety = 30
		add_character_modifier = {
			name = religious_appreciate
			duration = 1460
		}
	}
	option = {
		name = EVTOPTH_RoI_410
		add_character_modifier = {
			name = annoyed_religious
			duration = 1460
		}
	}
}

# Buddhist or Jain monks ask for donations
character_event = {
	id = RoI.411
	desc = EVTDESC_RoI_411
	picture = GFX_evt_india_temple
	border = GFX_event_normal_frame_religion

	is_triggered_only = yes
	
	ai = no
	only_capable = yes
	prisoner = no
	
	trigger = {
		#has_dlc = "Rajas of India"
		in_command = no
		OR = {
			religion = buddhist
			religion = jain
			religion_group = taoic_group
		}
	}

	option = {
		name = EVTOPTA_RoI_411
		scaled_wealth = -0.3
		piety = 30
		add_character_modifier = {
			name = religious_appreciate
			duration = 1460
		}
	}
	option = {
		name = EVTOPTB_RoI_411
		scaled_wealth = -0.1
		piety = 10
	}
	option = {
		name = EVTOPTC_RoI_411
		add_character_modifier = {
			name = annoyed_religious
			duration = 1460
		}
	}
}

# Non-Indian merchants upset about naked Jain ascetics
character_event = {
	id = RoI.412
	desc = EVTDESC_RoI_412
	picture = GFX_evt_meditating_in_temple
	border = GFX_event_normal_frame_religion

	is_triggered_only = yes
	
	ai = no
	only_capable = yes
	prisoner = no
	
	trigger = {
		has_dlc = "Rajas of India"
		in_command = no
		NOT = { religion_group = indian_group }
		any_demesne_province  = {
			NOT = { religion_group = indian_group }
		}
		OR = {
			any_realm_province  = {
				religion = jain
			}
			any_demesne_province  = {
				any_neighbor_province = {
					religion = jain
				}
			}
		}
	}

	option = {
		name = EVTOPTA_RoI_412
		random_demesne_province  = {
			limit = {
				NOT = { religion_group = indian_group }
			}
		}
	}
	option = {
		name = EVTOPTB_RoI_412
		trigger = {
			diplomacy = 12
		}
		tooltip_info = diplomacy
		custom_tooltip = { text = realm_jains_upset }
		hidden_tooltip = {
			any_realm_character  = {
				limit = { religion = jain }
				opinion = {
					who = ROOT
					years = 4
					modifier = opinion_upset
				}
			}
		}
	}
	option = {
		name = EVTOPTC_RoI_412
		custom_tooltip = { text = sacrilege_tooltip }
		hidden_tooltip = {
			any_realm_character  = {
				limit = { religion = jain }
				opinion = {
					who = ROOT
					years = 4
					modifier = opinion_sacrilege
				}
			}
			any_playable_ruler  = {
				limit = { religion = jain }
				opinion = {
					who = ROOT
					years = 4
					modifier = opinion_sacrilege
				}
			}
		}
	}
}

###########################################
# Low religion authority events           #
###########################################

# Temple corruption
character_event = {
	id = RoI.3500

	hide_window = yes
	
	is_triggered_only = yes
	
	trigger = {
		has_dlc = "Rajas of India"
		religion_group = indian_group
		NOT = { religion_authority = 0.4 }
		any_demesne_province = {
			religion = ROOT
		}
	}

	immediate = {
		random_demesne_province = {
			limit = { religion = ROOT }
			province_event = { id = RoI.3501 }
		}
	}
}

# Province bounce event
province_event = {
	id = RoI.3501

	hide_window = yes
	
	is_triggered_only = yes
	
	immediate = {
		FROM = {
			character_event = { id = RoI.3505 }
		}
	}
}

character_event = {
	id = RoI.3505
	desc = EVTDESC_RoI_3505
	picture = GFX_evt_india_temple
	border = GFX_event_normal_frame_religion

	is_triggered_only = yes

	option = {
		name = EVTOPTA_RoI_3505
		FROM = {
			add_province_modifier = {
				name = temple_corruption
				duration = -1
			}
		}
	}
}

# Temple corruption removed
character_event = {
	id = RoI.3506

	hide_window = yes
	
	is_triggered_only = yes
	
	trigger = {
		has_dlc = "Rajas of India"
		religion_group = indian_group
		religion_authority = 0.75
		any_demesne_province = {
			religion = ROOT
			has_province_modifier = temple_corruption
		}
	}

	immediate = {
		random_demesne_province = {
			limit = {
				religion = ROOT
				has_province_modifier = temple_corruption
			}
			province_event = { id = RoI.3507 }
		}
	}
}

# Province bounce event
province_event = {
	id = RoI.3507

	hide_window = yes
	
	is_triggered_only = yes
	
	immediate = {
		FROM = {
			character_event = { id = RoI.3509 }
		}
	}
}

character_event = {
	id = RoI.3509
	desc = EVTDESC_RoI_3509
	picture = GFX_evt_india_temple
	border = GFX_event_normal_frame_religion

	is_triggered_only = yes

	option = {
		name = EVTOPTA_RoI_3509
		FROM = {
			remove_province_modifier = temple_corruption
		}
	}
}

# Local death cult
character_event = {
	id = RoI.3510

	hide_window = yes
	
	is_triggered_only = yes
	
	trigger = {
		has_dlc = "Rajas of India"
		religion_group = indian_group
		NOT = { religion_authority = 0.5 }
		any_demesne_province = {
			religion = ROOT
		}
	}

	immediate = {
		random_demesne_province = {
			limit = { religion = ROOT }
			province_event = { id = RoI.3511 }
		}
	}
}

# Province bounce event
province_event = {
	id = RoI.3511

	hide_window = yes
	
	is_triggered_only = yes
	
	immediate = {
		FROM = {
			character_event = { id = RoI.3515 }
		}
	}
}

character_event = {
	id = RoI.3515
	desc = EVTDESC_RoI_3515
	picture = GFX_evt_india_temple
	border = GFX_event_normal_frame_religion

	is_triggered_only = yes

	option = {
		name = EVTOPTA_RoI_3515
		FROM = {
			add_province_modifier = {
				name = local_death_cult
				duration = -1
			}
		}
	}
}

# Local death cult removed
character_event = {
	id = RoI.3516

	hide_window = yes
	
	is_triggered_only = yes
	
	trigger = {
		has_dlc = "Rajas of India"
		religion_group = indian_group
		religion_authority = 0.75
		any_demesne_province = {
			religion = ROOT
			has_province_modifier = local_death_cult
		}
	}

	immediate = {
		random_demesne_province = {
			limit = {
				religion = ROOT
				has_province_modifier = local_death_cult
			}
			province_event = { id = RoI.3517 }
		}
	}
}

# Province bounce event
province_event = {
	id = RoI.3517

	hide_window = yes
	
	is_triggered_only = yes
	
	immediate = {
		FROM = {
			character_event = { id = RoI.3519 }
		}
	}
}

character_event = {
	id = RoI.3519
	desc = EVTDESC_RoI_3519
	picture = GFX_evt_india_temple
	border = GFX_event_normal_frame_religion

	is_triggered_only = yes

	option = {
		name = EVTOPTA_RoI_3519
		FROM = {
			remove_province_modifier = local_death_cult
		}
	}
}

# Religious unrest
character_event = {
	id = RoI.3530

	hide_window = yes
	
	is_triggered_only = yes
	
	trigger = {
		has_dlc = "Rajas of India"
		religion_group = indian_group
		NOT = { religion_authority = 0.4 }
		any_demesne_province = {
			religion = ROOT
		}
	}

	immediate = {
		random_demesne_province = {
			limit = { religion = ROOT }
			province_event = { id = RoI.3531 }
		}
	}
}

# Province bounce event
province_event = {
	id = RoI.3531

	hide_window = yes
	
	is_triggered_only = yes
	
	immediate = {
		FROM = {
			character_event = { id = RoI.3535 }
		}
	}
}

character_event = {
	id = RoI.3535
	desc = EVTDESC_RoI_3535
	picture = GFX_evt_india_temple
	border = GFX_event_normal_frame_religion

	is_triggered_only = yes

	option = {
		name = EVTOPTA_RoI_3535
		FROM = {
			add_province_modifier = {
				name = religious_unrest
				duration = -1
			}
		}
	}
}

# Religious unrest removed
character_event = {
	id = RoI.3536

	hide_window = yes
	
	is_triggered_only = yes
	
	trigger = {
		has_dlc = "Rajas of India"
		religion_group = indian_group
		religion_authority = 0.75
		any_demesne_province = {
			religion = ROOT
			has_province_modifier = religious_unrest
		}
	}

	immediate = {
		random_demesne_province = {
			limit = {
				religion = ROOT
				has_province_modifier = religious_unrest
			}
			province_event = { id = RoI.3537 }
		}
	}
}

# Province bounce event
province_event = {
	id = RoI.3537

	hide_window = yes
	
	is_triggered_only = yes
	
	immediate = {
		FROM = {
			character_event = { id = RoI.3539 }
		}
	}
}

character_event = {
	id = RoI.3539
	desc = EVTDESC_RoI_3539
	picture = GFX_evt_india_temple
	border = GFX_event_normal_frame_religion

	is_triggered_only = yes

	option = {
		name = EVTOPTA_RoI_3539
		FROM = {
			remove_province_modifier = religious_unrest
		}
	}
}

# Province converts to other religion!
character_event = {
	id = RoI.3520

	hide_window = yes
	
	is_triggered_only = yes
	
	trigger = {
		has_dlc = "Rajas of India"
		religion_group = indian_group
		NOT = { religion_authority = 0.4 }
		any_independent_ruler = {
			any_realm_province = {
				religion_group = indian_group
				NOT = { religion = ROOT }
				religion_authority = 0.6
			}
		}
		any_demesne_province = {
			religion = ROOT
		}
	}

	immediate = {
		random_demesne_province = {
			limit = { religion = ROOT }
			province_event = { id = RoI.3521 }
		}
	}
}

# Province bounce event
province_event = {
	id = RoI.3521

	hide_window = yes
	
	is_triggered_only = yes
	
	immediate = {
		if = {
			limit = {
				any_neighbor_province = {
					religion_group = indian_group
					NOT = { religion = ROOT }
				}
			}
			random_neighbor_province = {
				limit = {
					religion_group = indian_group
					NOT = { religion = ROOT }
				}
				ROOT = {
					religion = PREV
				}
			}
		}
		if = {
			limit = {
				religion = hindu
				NOT = {
					any_neighbor_province = {
						religion_group = indian_group
						NOT = { religion = ROOT }
					}
				}
			}
			random_list = {
				10 = { religion = buddhist }
				10 = { religion = jain }
			}
		}
		if = {
			limit = {
				religion = buddhist
				NOT = {
					any_neighbor_province = {
						religion_group = indian_group
						NOT = { religion = ROOT }
					}
				}
			}
			random_list = {
				10 = { religion = hindu }
				10 = { religion = jain }
			}
		}
		if = {
			limit = {
				religion = jain
				NOT = {
					any_neighbor_province = {
						religion_group = indian_group
						NOT = { religion = ROOT }
					}
				}
			}
			random_list = {
				10 = { religion = buddhist }
				10 = { religion = hindu }
			}
		}
		FROM = { character_event = { id = RoI.3525 } }
	}
}

character_event = {
	id = RoI.3525
	desc = EVTDESC_RoI_3525
	picture = GFX_evt_india_temple
	border = GFX_event_normal_frame_religion

	is_triggered_only = yes

	option = {
		name = EVTOPTA_RoI_3535
		tooltip = { FROM = { religion = FROM } }
	}
}



